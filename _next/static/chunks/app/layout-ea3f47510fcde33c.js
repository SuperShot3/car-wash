(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4333:function(e,t,r){Promise.resolve().then(r.t.bind(r,5878,23)),Promise.resolve().then(r.t.bind(r,2499,23)),Promise.resolve().then(r.t.bind(r,9804,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,8278)),Promise.resolve().then(r.bind(r,1229))},8278:function(e,t,r){"use strict";r.d(t,{default:function(){return a}});var n=r(7437),o=r(2265),s=r(7648),i=r(3145);function a(){let[e,t]=(0,o.useState)(!1),r=[{name:"Home",href:"/"},{name:"Services",href:"/services"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}];return(0,n.jsxs)("header",{className:"fixed w-full bg-zinc-100/95 backdrop-blur-sm z-50 shadow-lg border-b border-zinc-200",children:[(0,n.jsx)("nav",{className:"container-custom",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsx)("div",{className:"flex-shrink-0 flex items-center -ml-8",children:(0,n.jsx)(s.default,{href:"/",children:(0,n.jsx)(i.default,{src:"/car-wash/images/logo/logo.png",alt:"Car Spa Logo",width:120,height:40,className:"h-10 w-auto drop-shadow-md",priority:!0})})}),(0,n.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[r.map(e=>(0,n.jsxs)(s.default,{href:e.href,className:"text-zinc-700 hover:text-gold font-medium transition-colors relative group",children:[e.name,(0,n.jsx)("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gold transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]},e.name)),(0,n.jsx)("button",{className:"bg-gradient-to-r from-gold to-amber-500 text-white px-6 py-2.5 rounded-md hover:from-amber-500 hover:to-gold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Book Now"})]}),(0,n.jsx)("div",{className:"md:hidden flex items-center",children:(0,n.jsx)("button",{onClick:()=>t(!e),className:"text-zinc-700 hover:text-gold transition-colors p-2 rounded-lg hover:bg-zinc-200",children:(0,n.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),e&&(0,n.jsx)("div",{className:"md:hidden bg-zinc-100/95 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[r.map(e=>(0,n.jsx)(s.default,{href:e.href,className:"block px-3 py-2 text-zinc-700 hover:text-gold hover:bg-zinc-200/50 rounded-lg transition-all",onClick:()=>t(!1),children:e.name},e.name)),(0,n.jsx)("button",{className:"w-full bg-gradient-to-r from-gold to-amber-500 text-white px-6 py-2.5 rounded-md hover:from-amber-500 hover:to-gold transition-all duration-300 shadow-md hover:shadow-lg mt-2",children:"Book Now"})]})})]})}},1229:function(e,t,r){"use strict";r.d(t,{default:function(){return N}});var n=r(7437),o=r(2265),s=r(1534);function i(){let e=(0,o.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var a=r(8345),l=r(4252),c=r(3576);class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let r=(0,o.useId)(),n=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)(()=>{let{width:e,height:o,top:i,left:a}=s.current;if(t||!n.current||!e||!o)return;n.current.dataset.motionPopId=r;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            top: ${i}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),o.createElement(d,{isPresent:t,childRef:n,sizeRef:s},o.cloneElement(e,{ref:n}))}let m=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{let d=(0,c.h)(h),m=(0,o.useId)(),f=(0,o.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;n&&n()},register:e=>(d.set(e,!1),()=>d.delete(e))}),i?void 0:[r]);return(0,o.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[r]),o.useEffect(()=>{r||d.size||!n||n()},[r]),"popLayout"===a&&(e=o.createElement(u,{isPresent:r},e)),o.createElement(l.O.Provider,{value:f},e)};function h(){return new Map}var f=r(8881),p=r(3223);let g=e=>e.key||"",x=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var u;(0,p.k)(!l,"Replace exitBeforeEnter with mode='wait'");let h=(0,o.useContext)(f.p).forceRender||function(){let e=i(),[t,r]=(0,o.useState)(0),n=(0,o.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,o.useCallback)(()=>a.Wi.postRender(n),[n]),t]}()[0],x=i(),b=function(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}(e),v=b,w=(0,o.useRef)(new Map).current,y=(0,o.useRef)(v),k=(0,o.useRef)(new Map).current,j=(0,o.useRef)(!0);if((0,s.L)(()=>{j.current=!1,function(e,t){e.forEach(e=>{let r=g(e);t.set(r,e)})}(b,k),y.current=v}),u=()=>{j.current=!0,k.clear(),w.clear()},(0,o.useEffect)(()=>()=>u(),[]),j.current)return o.createElement(o.Fragment,null,v.map(e=>o.createElement(m,{key:g(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:c,mode:d},e)));v=[...v];let N=y.current.map(g),E=b.map(g),C=N.length;for(let e=0;e<C;e++){let t=N[e];-1!==E.indexOf(t)||w.has(t)||w.set(t,void 0)}return"wait"===d&&w.size&&(v=[]),w.forEach((e,r)=>{if(-1!==E.indexOf(r))return;let s=k.get(r);if(!s)return;let i=N.indexOf(r),a=e;a||(a=o.createElement(m,{key:g(s),isPresent:!1,onExitComplete:()=>{w.delete(r);let e=Array.from(k.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>k.delete(e)),y.current=b.filter(t=>{let n=g(t);return n===r||e.includes(n)}),!w.size){if(!1===x.current)return;h(),n&&n()}},custom:t,presenceAffectsLayout:c,mode:d},s),w.set(r,a)),v.splice(i,0,a)}),v=v.map(e=>{let t=e.key;return w.has(t)?e:o.createElement(m,{key:g(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),o.createElement(o.Fragment,null,w.size?v:v.map(e=>(0,o.cloneElement)(e)))};var b=r(429);let v=o.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}),w=o.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}),y=o.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}),k=o.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),j=[{stage:"initial",suggestions:["Show me your services and prices","What's included in each service?","Book a service now","What are your working hours?"]},{stage:"services",suggestions:["What's included in Basic Wash?","Tell me about Deluxe Wash","Premium Detail features?","Price for motorcycle detailing"]},{stage:"vehicle",suggestions:["Prices for small car","Prices for SUV/Crossover","Prices for van/truck","Motorcycle services"]},{stage:"booking",suggestions:["Book exterior wash","Book full service","Available time slots?","How long does it take?"]},{stage:"confirmation",suggestions:["Confirm booking","Change appointment","Cancel booking","Get directions"]}];function N(){var e;let[t,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[a,l]=(0,o.useState)(!0),[c,d]=(0,o.useState)([{role:"bot",content:"Hello! Welcome to Car Spa. How can I help you today?"}]),[u,m]=(0,o.useState)(""),[h,f]=(0,o.useState)(!1),[p,g]=(0,o.useState)("initial"),N=(0,o.useRef)(null),E=()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,o.useEffect)(()=>{E()},[c]),(0,o.useEffect)(()=>{if(c.length>1){var e;let t=(null===(e=c.filter(e=>"bot"===e.role).pop())||void 0===e?void 0:e.content.toLowerCase())||"";t.includes("service")||t.includes("offer")?g("services"):t.includes("book")||t.includes("appointment")?g("booking"):t.includes("price")||t.includes("cost")?g("vehicle"):(t.includes("confirm")||t.includes("scheduled"))&&g("confirmation")}},[c]),(0,o.useEffect)(()=>{let e=e=>{if("pricing"===e.target.getAttribute("data-action")){if(e.preventDefault(),"/"!==window.location.pathname)window.location.href="/#pricing";else{let e=document.getElementById("pricing");e&&(e.scrollIntoView({behavior:"smooth"}),r(!1))}}};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[r]);let C=()=>{document.getElementById("pricing"),"/contact"!==window.location.pathname&&(window.location.href="/contact"),r(!1)},_=async e=>{if(!e.trim())return;if(e.toLowerCase().includes("book")||e.toLowerCase().includes("schedule")){C();return}let t={role:"user",content:e};d(e=>[...e,t]),m(""),f(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,history:c})}),r=await t.json();if(t.ok){let e=r.response;e.includes("Click here to view our complete pricing table")&&(e=e.replace("Click here to view our complete pricing table",'<span class="text-gold cursor-pointer hover:underline" data-action="pricing">Click here to view our complete pricing table</span>')),(e.includes("would you like to book")||e.includes("make a booking"))&&(e=e.replace(/(book\s+now|make\s+a\s+booking)/gi,'<span class="text-gold cursor-pointer hover:underline" data-action="booking">book now</span>')),d(t=>[...t,{role:"bot",content:e}])}else throw Error(r.error)}catch(e){d(e=>[...e,{role:"bot",content:"I'm sorry, I'm having trouble processing your request. Please try again."}])}finally{f(!1)}};return(0,o.useEffect)(()=>{let e=e=>{"booking"===e.target.getAttribute("data-action")&&(e.preventDefault(),C())};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{onClick:()=>r(!0),className:"fixed ".concat(t?"hidden":"flex"," bottom-4 right-4 items-center gap-2 bg-gradient-to-r from-gold to-amber-500 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"),children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Chat with Us"}),(0,n.jsx)(v,{className:"h-5 w-5"})]}),(0,n.jsx)(x,{children:t&&(0,n.jsxs)(b.E.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 right-4 w-96 bg-white rounded-lg shadow-2xl z-50 overflow-hidden",children:[(0,n.jsxs)("div",{className:"p-4 bg-gradient-to-r from-gold to-amber-500 text-white rounded-t-lg flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"font-playfair text-lg",children:"Car Spa Assistant"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>i(!s),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:s?(0,n.jsx)(w,{className:"h-5 w-5"}):(0,n.jsx)(y,{className:"h-5 w-5"})}),(0,n.jsx)("button",{onClick:()=>r(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,n.jsx)(k,{className:"h-5 w-5"})})]})]}),(0,n.jsxs)(b.E.div,{animate:{height:s?0:"auto",opacity:s?0:1},transition:{duration:.3},className:"overflow-hidden",children:[(0,n.jsxs)("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(0,n.jsx)("div",{className:"h-6"}),c.map((e,t)=>(0,n.jsx)(b.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsx)("div",{className:"max-w-[80%] p-3 rounded-2xl ".concat("user"===e.role?"bg-gradient-to-r from-gold to-amber-500 text-white ml-4":"bg-white border border-gray-200 text-gray-800 mr-4"," shadow-md"),dangerouslySetInnerHTML:{__html:e.content}})},t)),h&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-white border border-gray-200 p-3 rounded-2xl shadow-md",children:(0,n.jsx)("span",{className:"animate-pulse",children:"Typing..."})})}),(0,n.jsx)("div",{ref:N})]}),(0,n.jsxs)("div",{className:"p-4 border-t border-gray-100 bg-white space-y-4",children:[(0,n.jsx)("div",{className:"flex justify-between items-center",children:(0,n.jsx)("button",{onClick:()=>l(!a),className:"text-sm text-zinc-600 hover:text-gold transition-colors flex items-center gap-2",children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{className:"h-4 w-4"}),"Hide suggestions"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{className:"h-4 w-4"}),"Show suggestions"]})})}),a&&(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(e=j.find(e=>e.stage===p))||void 0===e?void 0:e.suggestions.map(e=>(0,n.jsx)("button",{onClick:()=>_(e),className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-800 px-3 py-1.5 rounded-full transition-colors",children:e},e))}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&_(u),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent bg-gray-50"}),(0,n.jsx)("button",{onClick:()=>_(u),disabled:h||!u.trim(),className:"bg-gradient-to-r from-gold to-amber-500 text-white p-2 rounded-full hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,n.jsx)(v,{className:"h-5 w-5"})})]})]})]})]})})]})}},2778:function(){},2499:function(e){e.exports={style:{fontFamily:"'__Inter_b9c417', '__Inter_Fallback_b9c417'",fontStyle:"normal"},className:"__className_b9c417",variable:"__variable_b9c417"}},9804:function(e){e.exports={style:{fontFamily:"'__Playfair_Display_4f4d50', '__Playfair_Display_Fallback_4f4d50'",fontStyle:"normal"},className:"__className_4f4d50",variable:"__variable_4f4d50"}}},function(e){e.O(0,[219,429,145,648,971,117,744],function(){return e(e.s=4333)}),_N_E=e.O()}]);